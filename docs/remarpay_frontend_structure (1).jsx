# RemarPay Backend Documentation Suite

Welcome to the backend documentation for **RemarPay**, a secure and efficient multi-role currency exchange and transaction platform. Below is a complete set of documents to support developers, maintainers, and future feature planning.

---

## ðŸ“˜ `README.md`

### Project Name

**RemarPay Backend**

### Description

Django-based backend for RemarPay, supporting multi-role users (cashiers, agents, managers, tech-admins), transaction flows, rate management, user preferences, and more.

### Tech Stack

- Python 3.11+
- Django 4+
- Django REST Framework
- SimpleJWT for Authentication

### Key Features

- JWT Authentication
- Role-based permissions
- Currency exchange transaction logic
- Auto-calculated conversions + fee deduction
- Receipt generation (for frontend rendering)
- Agent payment confirmations
- User management + suspension
- Rate control and versioning
- Dark mode and timezone preferences
- Notification system
- Search & Filter system

### Setup Instructions

```bash
# Create and activate virtualenv
python -m venv venv
source venv/bin/activate  # or venv\Scripts\activate on Windows

# Install dependencies
pip install -r requirements.txt

# Migrate DB
python manage.py migrate

# Create superuser
python manage.py createsuperuser

# Run dev server
python manage.py runserver
```

---

## ðŸ§­ `DEVELOPER_GUIDE.md`

### User Roles Summary

| Role       | Description                |
| ---------- | -------------------------- |
| Cashier    | Initiates client deposits  |
| Agent      | Confirms foreign payments  |
| Manager    | Oversees agents & cashiers |
| Tech Admin | Full system control        |

### Code Structure

- `accounts/`: User authentication, registration, profiles
- `payments/`: Cashier deposit â†’ Agent confirmation flow
- `rates/`: Manages country-specific exchange rates
- `notifications/`: Role-based & direct notifications

### Important Commands

```bash
# Reset password
python manage.py changepassword <email>

# Load default data (optional)
python manage.py loaddata initial_data.json
```

### Key Endpoints

| Endpoint                                  | Description                       |
| ----------------------------------------- | --------------------------------- |
| POST `/api/accounts/login/`               | JWT Login                         |
| POST `/api/accounts/register/`            | Create new user (tech-admin only) |
| PATCH `/api/accounts/<id>/assign-role/`   | Assign user roles                 |
| POST `/api/payments/create/`              | Cashier payment request           |
| GET `/api/payments/agent/requests/`       | Agentâ€™s assigned country requests |
| PATCH `/api/payments/agent/confirm/<id>/` | Agent marks as paid               |

---

## ðŸ‘¤ `USER_GUIDE.md`

### Cashier Flow

1. Login and access dashboard
2. Go to "New Deposit"
3. Enter client + receiver details
4. Submit â†’ Request is created
5. Download receipt (auto-generated by frontend)

### Agent Flow

1. Login â†’ See assigned countryâ€™s requests
2. Open unpaid requests
3. Mark as paid + upload receipt image

### Manager & Tech-Admin

- Suspend/unsuspend users
- Assign roles/countries
- View full user list
- Set or update currency exchange rates
- Send announcements (via notifications)

---

## ðŸ”® `FUTURE_UPDATES.md`

### Suggested Features

- Frontend PWA implementation âœ… (in progress)
- Profile pictures for users
- Admin dashboard analytics (charts)
- Export reports to CSV
- Scheduled notifications/reminders
- Email verification (optional)
- Advanced audit logging (activity logs)
- Two-factor authentication (2FA)

### Technical Improvements

- Improve permission logic with DRY rules
- Add pagination to list endpoints
- Optimize search with indexes
- Rate limiting for sensitive endpoints
- Docker support for full deployment

---

## ðŸ“¦ Suggested File Tree

```
remarpay/
â”œâ”€â”€ accounts/
â”œâ”€â”€ payments/
â”œâ”€â”€ rates/
â”œâ”€â”€ notifications/
â”œâ”€â”€ media/  # Profile pics & agent receipts
â”œâ”€â”€ static/
â”œâ”€â”€ manage.py
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ README.md
â”œâ”€â”€ DEVELOPER_GUIDE.md
â”œâ”€â”€ USER_GUIDE.md
â””â”€â”€ FUTURE_UPDATES.md
```

---

âœ… **Ready for frontend development.** Letâ€™s now start building the React + Tailwind + PWA frontend step-by-step!
